<!DOCTYPE html>
<html>

<head>
    <title>
        KOTLC Neighlish Translator
    </title>

</head>

<style>
    /* latin */
    @font-face {
        font-family: 'Calligraffitti';
        font-style: normal;
        font-weight: 400;
        src: url(https://fonts.gstatic.com/s/calligraffitti/v12/46k2lbT3XjDVqJw3DCmCFjE0vkFeOZc.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

</style>

<body>
    <h1 style="text-align: center; font-family: Calligraffitti; font-size: 50px;">KOTLC Silveny Speech</h1>
    <div style="margin-top: 1.5%; height: 20vh; box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2),
    0px 15px 22px 2px rgba(0, 0, 0, 0.14),
    0px 6px 28px 5px rgba(0, 0, 0, 0.12); margin-left: auto; text-align: center;">
        <input style="font-family: 'Courier New', Courier, monospace; margin-top: 2.5%; display: inline-block; margin: auto; box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2),
            0px 15px 22px 2px rgba(0, 0, 0, 0.14),
            0px 6px 28px 5px rgba(0, 0, 0, 0.12); height: 50px; font-size: 50px;" type="text" id='js-input-trans' placeholder="Input" />
        <input style="font-family: 'Courier New', Courier, monospace; margin-top: 2.5%; display: inline-block; box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2),
            0px 15px 22px 2px rgba(0, 0, 0, 0.14),
            0px 6px 28px 5px rgba(0, 0, 0, 0.12); height: 50px; font-size: 50px;" type="text" id="js-output-trans" placeholder="Output" readonly />
    </div>
</body>

<script>
    const dictionary = {
        "Neigh": "Hi",
        "Néigh": "Fly",
        "Nneigh": "Friend",
        "Ṅeigh": "Help",
        "Nee": "Dead",
        " ": " ",
        "Eigh": "Sleep",
        "Neiǧh": "Home",
        "Neɨgh": "Elf",
        "Ɲeigh": "Hell",
        "Neeeiigh": "Naughty",
        "Negh": "Sad",
        "Neo": "No",
        "NiEghe": "Chill",
        "Hniegh": "Book",
        "Neihg": "Come",
        "Nee": "Play",
        "Nieggh": "Genius",
        "Nogh": "Now",
        "noeigh": "More",
        "Neiogh": "Less"
        "Eig": "Pain",
        "Ni": "Die",
        "Nogḥ": "Work",
        "N": "In",
        "Giddy-up": "Go",
        "Noeiiigh": "Hole",
        "nieό": "Human",
    };

    var inputField = document.getElementById('js-input-trans');
    var outputField = document.getElementById('js-output-trans');
    inputField.addEventListener('input', inputEvent);

    function inputEvent(event) {
        var val = event.target.value;
        var words = val.split(' ');
        var newString = '';

        for (let z = 0; z < words.length; z++) {
            const element = words[z];

            var prefix = getPrefix(z, words);
            var suffix = '';

            newString += prefix + findValueByKey(element) + suffix;
        }
        outputField.value = newString;
    }

    function findValueByKey(searchKey) {
        for (const [key, value] of Object.entries(dictionary))
            if (value.toLowerCase() == searchKey.toLowerCase())
                if (searchKey.charAt(0) == searchKey.charAt(0).toUpperCase())
                    return key;
                else
                    return key.charAt(0).toLowerCase() + key.substr(1);

        return searchKey;
    }

    function getPrefix(z, words) {
        if (z == 0) return ''; // No previous char
        if (words[z - 1] == ' ') // Previous char is space
            return '';
        return ' '; // Space since last char is part of word
    }

</script>

</html>
